AFRAME.registerComponent("videohandler", {
    init: function () {
      var marker = this.el;

      this.vid = document.querySelector("#vid");
      marker.addEventListener(
        "markerFound",
        function () {
          this.toggle = true;
          this.vid.play();
        }.bind(this)
      );
      marker.addEventListener(
        "markerLost",
        function () {
          this.toggle = false;
          this.vid.pause();
        }.bind(this)
      );

      this.vid2 = document.querySelector("#vid2");
      marker.addEventListener(
        "markerFound",
        function () {
          this.toggle = true;
          this.vid2.play();
        }.bind(this)
      );
      marker.addEventListener(
        "markerLost",
        function () {
          this.toggle = false;
          this.vid2.pause();
        }.bind(this)
      );
    },
  });

  if (this.el.object3D.visible == true) {
    if (!this.toggle) {
      this.toggle = true;
      for (let i = 0; i < this.videoNodes.length; i++) {
        this.videoNodes[i].play();
      }
    }
  } else {
    if (this.toggle) {
      for (let i = 0; i < this.videoNodes.length; i++) {
        this.videoNodes[i].pause();
      }
      this.toggle = false;
    }
  }